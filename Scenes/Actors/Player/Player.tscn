[gd_scene load_steps=9 format=3 uid="uid://brnkk1tjydv2n"]

[ext_resource type="Script" path="res://Scenes/Actors/Player/player.gd" id="1_ae3ra"]
[ext_resource type="Script" path="res://Scenes/Actors/Player/holdObject.gd" id="2_q0nc6"]
[ext_resource type="PackedScene" uid="uid://dyumdbvx72pp0" path="res://Scenes/Weapons/Hitscan Pistol/Hitscan_Pistol.tscn" id="3_uh2dn"]
[ext_resource type="PackedScene" uid="uid://cuquf2p4w3yt5" path="res://Scenes/Weapons/Projectile Pistol/Projectile_Pistol.tscn" id="4_dsd2a"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_tlxbc"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_dtig4"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_7xf8p"]
height = 0.420023

[sub_resource type="CylinderShape3D" id="CylinderShape3D_1deif"]
height = 0.1
radius = 0.7

[node name="Player" type="CharacterBody3D" groups=["Player"]]
collision_mask = 3
script = ExtResource("1_ae3ra")
push_force = 0.8
ground_decel = 0.5
health = 100

[node name="BodyCollision" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_tlxbc")

[node name="PlayerMesh" type="MeshInstance3D" parent="."]
mesh = SubResource("CapsuleMesh_dtig4")

[node name="CrouchCameraPos" type="Node3D" parent="."]

[node name="FootCollision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.791767, 0)
shape = SubResource("CylinderShape3D_7xf8p")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.681573, 0)

[node name="MainCamera" type="Camera3D" parent="Head"]

[node name="HeadRayCast" type="RayCast3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.432262, 0)
target_position = Vector3(0, 1, 0)

[node name="HoldPos" type="Node3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0866745, -2.73033)
script = ExtResource("2_q0nc6")

[node name="InteractibleDetector" type="RayCast3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
target_position = Vector3(0, 2, 0)
collision_mask = 2

[node name="AimRayCast" type="RayCast3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0)
visible = false
target_position = Vector3(0, 1000, 0)

[node name="WeaponHolder" type="Node3D" parent="Head"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.165831, -1.03294)

[node name="HitscanPistol" parent="Head/WeaponHolder" instance=ExtResource("3_uh2dn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.358997, 0, -0.193429)

[node name="ProjectilePistol" parent="Head/WeaponHolder" instance=ExtResource("4_dsd2a")]
process_mode = 4
transform = Transform3D(-0.999857, 0, -0.0168939, 0, 1, 0, 0.0168939, 0, -0.999857, 0.358623, 0, -0.174397)
visible = false

[node name="PhysicsBumper" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.856854, 0)
shape = SubResource("CylinderShape3D_1deif")
target_position = Vector3(0, 0, 0)
collision_mask = 3
